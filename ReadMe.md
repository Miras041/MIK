# Разработка абонетского терминала
### Команда БПЛА2005

## Принципиальная схема устройства

![схема подключения устроиств](image-1.png)

В хост (Banana PI) подключенны два HackRF (один на передачу, второй на прием)

К хосту подключен экран с функцией тачскрина для управления всем устройством

К хосту подключена аудиокарта, а в нее микрофон и динамик для обеспечения связи

Все устройства питаются от АКБ через хост

## Конфигурирование радиосигнала
Вы можете ознакомиться с параметрами и программной логикой в файлах репозитория.

## Процесс развертывания решения 
### 1. Установка Ubuntu на одноплатный компьютер Banana PI:

1. Загрузка образа с оффициального сайта
2. Запись образа на карту памяти для последующей загрузки устройства:
```shell
sudo dd if=/ubuntu.img of=/dev/sdX (X - буква устройства)
```
### 2. Установка GNU Radio
1. обновление пакетного менеджера
```shell
sudo apt update
```
2. установка пакета gnuradio
```shell
sudo apt install gnuradio
```
3. установка пакета hackrf для управлением HackRF One 
```shell
sudo apt install hackrf
```

### 3. Установка модуля поддержки OsmoSDR для GNU Radio
Так как этот модуль может быть не во всех дистрибутивах и может быть устаревшей версии, мы решили собрать их с нуля
```shell
cd ~
git clone git://git.osmocom.org/gr-osmosdr
cd gr-osmosdr/
mkdir build
cd build/
cmake ../
make
sudo make install
sudo ldconfig
```


## Характеристики подустройств

### HackRF One
    • 40 MHz to 6 GHz рабочая частота
    • полудуплексный режим работы
    • частота дискретизации до 20МГц
    • sampling 8 бит
    • совместим с GNU Radio
    • программно настраиваемый фильтр
    • программно настраиваемый усилитель
    • SMA разъем бля антенны
    • SMA разъемы для синхронизации 
    • Hi-Speed USB 2.0
    • open source hardware
 ### BananaPI Zero 2W
    • Процессор Allwinner H3 Quad-core Cortex-A7 
    • RAM 512M DDR3(общая с графической)
    • GPU Mali 400 MP2 GPU@600MHz
    • Система Ubuntu LXDE


## Обоснование выбора компонентов
Мы выбрали HackRF One из-за простоты работы с ним. 
Он широко поддерживается и очень хорошо задокументирован. 
Одно из самых популярных и доступных решений на рынке радиомодулей.

Мы выбрали BananaPI из-за его доступности, а так же по причине того что это одна из самых распространенных плат на рынке одноплатных ПК с достойной документацией и хорошими образами систем, доступных к использованию